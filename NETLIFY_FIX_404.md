# Исправление ошибки 404 на Netlify

## Причина проблемы

Ошибка 404 на `chic-cactus-2776a1.netlify.app` обычно возникает по следующим причинам:

1. **Файлы не закоммичены в репозиторий** - Netlify не видит последние изменения
2. **Неправильные настройки сборки** - Netlify не может правильно собрать проект
3. **Отсутствуют переменные окружения** - Приложение не может подключиться к базе данных
4. **Проблемы с конфигурацией netlify.toml** - Неправильные редиректы

## Шаги по исправлению

### 1. Закоммитьте все изменения в Git

```bash
# Добавьте все изменения
git add .

# Закоммитьте изменения
git commit -m "Fix netlify configuration and add production files"

# Отправьте в репозиторий
git push origin main
```

### 2. Проверьте настройки сборки на Netlify

Перейдите в **Site settings → Build & deploy** и убедитесь, что:

- **Build command:** `npm run build`
- **Publish directory:** `.next`
- **Node version:** 18 или выше

### 3. Настройте переменные окружения

Перейдите в **Site settings → Build & deploy → Environment → Environment variables** и добавьте:

```
NEXTAUTH_SECRET = b5Jj2BL9yXoyPYA4MFegjOJkPVHyh8fEKBiaXhXzZMg=
NEXTAUTH_URL = https://chic-cactus-2776a1.netlify.app
DATABASE_URL = postgresql://user:password@host:port/database?schema=public
```

**ВАЖНО:** Для продакшена используйте реальный PostgreSQL URL, а не SQLite!

### 4. Проверьте файл netlify.toml

Убедитесь, что файл содержит правильную конфигурацию:

```toml
[build]
  command = "npm run build"
  publish = ".next"

[[redirects]]
  from = "/*"
  to = "/index.html"
  status = 200

[[headers]]
  for = "/*"
  [headers.values]
    X-Frame-Options = "DENY"
    X-Content-Type-Options = "nosniff"
    Referrer-Policy = "strict-origin-when-cross-origin"
```

### 5. Перезапустите деплой

1. Перейдите в раздел **Deploys** на Netlify
2. Нажмите **Trigger deploy**
3. Выберите **Clear cache and deploy site**
4. Следите за логами сборки

## Проверка логов сборки

Если деплой все равно не работает, проверьте логи сборки на наличие ошибок:

1. Перейдите в **Deploys** → выберите последний деплой
2. Проверьте раздел **Deploy log**
3. Ищите ошибки, связанные с:
   - Отсутствующими зависимостями
   - Проблемами с базой данных
   - Ошибками сборки Next.js

## Дополнительные проверки

### Проверка подключения к базе данных

Если вы используете PostgreSQL, убедитесь, что:
- База данных доступна из интернета
- Порт открыт (обычно 5432)
- Учетные данные верные

### Проверка DNS настроек

Если вы используете кастомный домен:
- Убедитесь, что DNS записи правильно настроены
- Проверьте, что домен привязан к Netlify сайту

## Альтернативное решение

Если проблема сохраняется, попробуйте:

1. **Удалить и создать сайт заново** на Netlify
2. **Использовать другой шаблон** конфигурации
3. **Проверьте файл package.json** - убедитесь, что все зависимости указаны

## Контакты поддержки

Если проблема не решается, обратитесь в поддержку Netlify с:
- URL вашего сайта
- Логами сборки
- Скриншотами настроек